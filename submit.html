<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Submit Your Ad</title>
<style>
body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
h1 { text-align: center; }
form { max-width: 500px; margin: 0 auto; background: #fff; padding: 15px; border-radius: 8px; box-shadow: 0px 0px 10px rgba(0,0,0,0.1); }
input, button { width: 100%; padding: 10px; margin: 8px 0; font-size: 16px; }
#status { text-align: center; margin-top: 10px; font-weight: bold; }
</style>
</head>
<body>

<h1>Submit Your Ad</h1>
<p><em>Fill out the form below. Your ad will appear automatically on the site!</em></p>

<form id="adForm">
  <input type="text" name="title" placeholder="Ad Title" required>
  <input type="url" name="image" placeholder="Image URL" required>
  <input type="url" name="url" placeholder="Website Link" required>
  <button type="submit">Submit Ad</button>
</form>

<p id="status"></p>

<script>
// Your Google Sheet Web App URL
const SHEET_API = 'https://script.google.com/a/macros/education.nsw.gov.au/s/AKfycbwN9dWiHmlNSu5ZS1ixaL81W6BVIcwbxKHJrE-OR9k9JvFmZyRPyAfaTZ7tUMP5ZbY/exec';

document.getElementById('adForm').addEventListener('submit', function(e){
  e.preventDefault();
  const data = new FormData(this);

  // Construct URL with query params
  const url = `${SHEET_API}?title=${encodeURIComponent(data.get('title'))}&image=${encodeURIComponent(data.get('image'))}&url=${encodeURIComponent(data.get('url'))}`;

  fetch(url)
    .then(() => {
      document.getElementById('status').textContent = "✅ Ad submitted successfully!";
      this.reset(); // Clear form
    })
    .catch(() => document.getElementById('status').textContent = "❌ Error submitting ad. Try again.");
});
</script>

</body>
</html>
